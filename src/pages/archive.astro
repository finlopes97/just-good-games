---
import Header from '../components/Header.astro';
import Head from '../components/Head.astro';
import Footer from '../components/Footer.astro';
import BlogPost from '../components/BlogPost.astro';
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts");
const title = "Archive";
---

<html lang="en">
	<Head title={title} />
	<body class="bg-background text-foreground min-h-screen px-4">
		<Header />
		<div class="flex justify-center items-center w-full" style="height: calc(100vh - 4rem);">
			<div class="max-w-lg w-full">
				<h1 class="text-2xl text-center md:text-3xl lg:text-4xl font-heading">Archive.</h1>
				<hr class="bg-accent h-1 border-0 my-4" />
				<p class="text-center font-body">This site is currently under construction.</p>
				<ul>
					{
						allPosts.map((post) => (
							<BlogPost url={`/posts/${post.slug}/`} title={post.data.title} />
						))
					}
				</ul>
			</div>
		</div>
		<Footer />
	</body>
</html>